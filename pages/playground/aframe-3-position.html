<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" href="../../assets/favicon.svg" />
  <title>A-Frame Exercise 3 ‚Äî Move with keys</title>

  <link rel="stylesheet" href="../../styles/style.css" />
  <link rel="stylesheet" href="../../styles/exercise.css" />

  <script src="../../script.js" defer></script>
  <script src="../../exercise.js" defer></script>
</head>

<body>
  <div class="sticky">
    <a href="../../index.html" style="text-decoration: none">
      <h1 class="title">Web AR for Gummies <span id="emoji">üòÆ</span></h1>
    </a>
    <ul>
      <li><a href="../../index.html" class="underAnim">Home</a></li>
      <li><a href="../../pages/exercises.html" class="underAnim">Playground</a></li>
    </ul>
  </div>

  <div id="main" class="wrapper" style="margin-top: 7rem">
    <button
      type="button"
      id="ex-menu-btn"
      class="exercise-menu-btn"
      aria-label="Open menu"
      aria-expanded="false"
      aria-controls="ex-menu"
    ></button>

    <div class="exercise-menu" id="ex-menu">
      <div class="exercise-menu-backdrop"></div>
      <div class="exercise-menu-panel" role="dialog" aria-modal="true" aria-label="Exercise menu">
        <div class="exercise-menu-head">
          <div class="exercise-menu-title">Menu</div>
          <button type="button" id="ex-menu-close" class="exercise-menu-close" aria-label="Close menu">√ó</button>
        </div>

        <h3>A-Frame Exercises</h3>
        <nav class="exercise-nav" aria-label="A-Frame exercise navigation">
          <a href="./aframe-1-spin.html">1. Spin + color</a>
          <a href="./aframe-2-click.html">2. Click toggle scale</a>
          <a class="is-active" href="./aframe-3-position.html">3. Move with keys</a>
        </nav>
      </div>
    </div>

    <div class="exercise-workspace exercise">
      <section class="exercise-panel exercise-instructions">
        <div class="exercise-panel-header">Instructions</div>
        <div class="exercise-panel-body">
          <h2 class="exercise-goal">A-Frame ‚Äî Exercise 3: Move with keys</h2>
          <p>
            Goal: use arrow keys to move the box left/right.
          </p>
          <div class="exercise-note" id="ex-description"></div>
        </div>
      </section>

      <section class="exercise-panel exercise-code">
        <div class="exercise-panel-header">
          <div>Code</div>
          <div class="exercise-toolbar">
            <button type="button" class="exercise-btn" id="ex-run">Run</button>
            <button type="button" class="exercise-btn" id="ex-reset">Reset</button>
            <button type="button" class="exercise-btn" id="ex-open">Open</button>
          </div>
        </div>
        <div class="exercise-panel-body">
          <div id="ex-templates" class="exercise-toolbar" aria-label="Templates"></div>
        </div>

        <div class="exercise-code-layout">
          <div class="exercise-files" aria-label="Files">
            <h4>Files</h4>
            <button type="button" class="exercise-file is-active" data-ex-file="html">index.html</button>
            <button type="button" class="exercise-file" data-ex-file="css">styles.css</button>
            <button type="button" class="exercise-file" data-ex-file="js">script.js</button>
          </div>

          <div class="exercise-editors">
            <div class="exercise-editor is-active" data-ex-editor="html">
              <div class="exercise-editor-header">HTML</div>
              <textarea id="ex-html" spellcheck="false"></textarea>
            </div>
            <div class="exercise-editor" data-ex-editor="css">
              <div class="exercise-editor-header">CSS</div>
              <textarea id="ex-css" spellcheck="false"></textarea>
            </div>
            <div class="exercise-editor" data-ex-editor="js">
              <div class="exercise-editor-header">JS</div>
              <textarea id="ex-js" spellcheck="false"></textarea>
            </div>
          </div>
        </div>
      </section>

      <div class="exercise-result-wrap">
        <section class="exercise-panel exercise-result">
          <div class="exercise-panel-header">Result</div>
          <div class="exercise-preview-wrap">
            <iframe
              id="ex-frame"
              title="Exercise preview"
              sandbox="allow-scripts allow-pointer-lock allow-modals"
              referrerpolicy="no-referrer"
            ></iframe>
          </div>
        </section>
        <div class="exercise-result-actions" id="qr-slot"></div>
      </div>
    </div>

    <script id="webar-exercise-templates" type="application/json">
        [
          {
            "id": "aframe-3-position",
            "title": "A-Frame: Move with keys",
            "description": "Tasks: \n(1) Implement left/right movement using ArrowLeft/ArrowRight. \n(2) Clamp x to a range (e.g. -2..2).",
            "libs": {"aframe": true, "modelViewer": false},
            "html": "<!-- Exercise 3: Move with keys -->\n<a-scene embedded>\n  <a-entity camera position=\"0 1.6 0\">\n    <a-cursor rayOrigin=\"mouse\"></a-cursor>\n  </a-entity>\n\n  <a-entity\n    id=\"box\"\n    gltf-model=\"https://noir-nft.s3.ap-south-1.amazonaws.com/red_gummy_bear.glb\"\n    position=\"0 1.2 -3\"\n    rotation=\"0 180 0\"\n    scale=\"0.6 0.6 0.6\"\n  ></a-entity>\n\n  <a-text value=\"Use arrow keys\" position=\"-1.3 2 -3\" color=\"#111\"></a-text>\n\n  <a-plane rotation=\"-90 0 0\" width=\"7\" height=\"7\" color=\"#7BC8A4\" position=\"0 0 -3\"></a-plane>\n  <a-sky color=\"#ECECEC\"></a-sky>\n</a-scene>\n",
            "css": "html, body { height: 100%; margin: 0; }\na-scene { width: 100%; height: 70vh; }\n",
            "js": "const box = document.querySelector('#box');\n\nfunction clamp(v, min, max) {\n  return Math.max(min, Math.min(max, v));\n}\n\nlet x = 0;\nconst step = 0.15;\n\ndocument.addEventListener('keydown', (e) => {\n  if (!box) return;\n\n  // TODO: move left/right\n  if (e.key === 'ArrowLeft') x -= step;\n  if (e.key === 'ArrowRight') x += step;\n\n  x = clamp(x, -2, 2);\n\n  const pos = box.getAttribute('position');\n  box.setAttribute('position', `${x} ${pos.y} ${pos.z}`);\n});\n"
          }
        ]
      </script>
  </div>

  <footer class="footer">
    <div class="links"></div>
    <div class="footer-actions">
      <button type="button" onclick="topFunction()" id="hoverBtn" class="a_demo_four" title="Go to top"></button>
      <a id="dev" class="a_demo_four" target="_top" href="https://linktr.ee/ambrielm3">
        üïπÔ∏è&lt;DEV&gt;
      </a>
    </div>
  </footer>
</body>

</html>
